<ng-container *transloco="let t">
  <ng-container *ngIf="route$ | async as route">
    <nav class="navbar navbar-expand-lg navbar-light bg-dark text-white">
      <div class="container-fluid">
        <div class="collapse navbar-collapse justify-content-start">
          <a class="navbar-brand  tw-text-cyan-700 hover:tw-text-cyan-300" href="#"><i class="bi bi-globe-europe-africa"></i> {{ t('navbar.title')}}</a>
        </div>
        <ng-container *ngIf="((activatedRoute$ |async)!=='/summary') ">
          <div class="collapse navbar-collapse justify-content-center">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-info my-2 my-sm-0"
                        (click)="openWeatherModal()">    {{ t('navbar.weatherParams')}}</button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-info my-2 my-sm-0"
                        (click)="openFlightParameterModal()">    {{ t('navbar.flightParams')}}
                </button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-info my-2 my-sm-0"
                        (click)="openAirportModal()">    {{ t('navbar.waypoint')}}
                </button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-info my-2 my-sm-0 position-relative"
                        [ngbPopover]="popContent" triggers="mouseenter:mouseleave">
                  <span *ngIf="route.listOfWaypoints.length>0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill  tw-bg-rose-500 tw-shadow-cyan-500/40">!</span>
                  <i class="bi bi-info-square "
                  >  {{ t('navbar.flightInfo')}}</i>

                </button>
              </li>
            </ul>
          </div>
        </ng-container>
        <div class="inline-flex rounded-md shadow-sm collapse navbar-collapse justify-content-end">
        <ng-container *ngIf="((activatedRoute$ |async)!=='/login') ">
            <button aria-current="page" class=" btn-about">
              <i class="bi bi-info-lg"></i> About
            </button>
            <button class="btn-login" vfrLoginStatus [isLoggedIn]="(isLogged |async) ">
              <i></i>
            </button>
        </ng-container>
          </div>
      </div>
    </nav>
  </ng-container>
</ng-container>

<ng-template #popContent>
  <ng-container [componentHost]="componentFactory">
  </ng-container>
</ng-template>
