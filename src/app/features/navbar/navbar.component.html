<ng-container *transloco="let t">
  <ng-container *ngIf="route$ | async as route">
    <nav class="navbar navbar-expand-lg navbar-light bg-dark text-white">
      <div class="container-fluid">
        <div class="collapse navbar-collapse justify-content-start">
          <a class="navbar-brand text-white" href="#">{{ t('navbar.title')}}</a>
        </div>
        <ng-container *ngIf="((activatedRoute$ |async)!=='/summary') ">
          <div class="collapse navbar-collapse justify-content-center">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-success my-2 my-sm-0"
                        (click)="openWeatherModal()">    {{ t('navbar.weatherParams')}}</button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-success my-2 my-sm-0"
                        (click)="openFlightParameterModal()">    {{ t('navbar.flightParams')}}
                </button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-success my-2 my-sm-0"
                        (click)="openAirportModal()">    {{ t('navbar.waypoint')}}
                </button>
              </li>
              <li class="nav-item text-white p-1">
                <button class="btn btn-outline-info my-2 my-sm-0 position-relative"
                        [ngbPopover]="popContent" triggers="mouseenter:mouseleave">
                  <span *ngIf="route.listOfWaypoints.length>0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">!</span>
                  <i class="bi bi-info-square "
                  >  {{ t('navbar.flightInfo')}}</i>

                </button>
              </li>
            </ul>
          </div>
        </ng-container>
        <ng-container *ngIf="((activatedRoute$ |async)!=='/login') ">
          <div class="collapse navbar-collapse justify-content-end">
            <div class="m-2">{{ t('navbar.about')}}</div>
            <div class="m-2" vfrLoginStatus [isLoggedIn]="(isLogged |async)"><i></i></div>
          </div>
        </ng-container>
      </div>
    </nav>
  </ng-container>
</ng-container>

<ng-template #popContent>
  <ng-container [componentHost]="componentFactory">
  </ng-container>
</ng-template>
